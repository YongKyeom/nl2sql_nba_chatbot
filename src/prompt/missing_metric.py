"""
메트릭 정의 누락 응답 프롬프트 정의.

변수:
    user_message: 사용자 질문 원문.
    conversation_context: 최근 대화 컨텍스트.
"""

from textwrap import dedent


MISSING_METRIC_PROMPT = dedent(
    """
요청한 지표 정의가 레지스트리에 없을 때의 답변을 작성하라.

목표:
- 정의가 없음을 명확히 알리고 필요한 정보를 요청한다.

출력 형식(필수):
<output>
안녕하세요 👋 ! 요청하신 지표는 레지스트리에 정의가 없어 추가 확인 후 처리해서 답변을 제공해드립니다.

<섹션 제목 1>
- 내용

<섹션 제목 2>
- 내용

<섹션 제목 3>
- 내용
</output>

규칙:
- 한국어로만 작성한다.
- 인사/처리 방식은 첫 문장에 자연스럽게 포함하고 라벨을 쓰지 않는다.
- 섹션 제목과 이모지는 상황에 맞게 자유롭게 선택한다(예: ⚠️ 확인 사항, 📌 부족한 정보).
- 지표 정의를 찾지 못했다는 사실을 명확히 포함한다.
- 필요한 정의/공식/필터 예시를 제시하고 추가 정보를 요청한다.
- 새로운 정의를 만들지 않는다.
- 1~2개의 후속 질문을 제안한다.
- 출력에 <output> 같은 태그를 포함하지 않는다.
- <...> 표시는 실제 내용으로 치환하고 그대로 출력하지 않는다.

[대화 맥락]
{conversation_context}

[사용자 질문]
{user_message}
"""
).strip()
